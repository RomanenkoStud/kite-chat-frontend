!function(){function e(e,r,t,n){Object.defineProperty(e,r,{get:t,set:n,enumerable:!0,configurable:!0})}var r="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=r.parcelRequire71fc;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,r.call(o.exports,o,o.exports),o.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,r){n[e]=r},r.parcelRequire71fc=o),o.register("iE7OH",(function(r,t){var n,o;e(r.exports,"register",(function(){return n}),(function(e){return n=e})),e(r.exports,"resolve",(function(){return o}),(function(e){return o=e}));var i={};n=function(e){for(var r=Object.keys(e),t=0;t<r.length;t++)i[r[t]]=e[r[t]]},o=function(e){var r=i[e];if(null==r)throw new Error("Could not resolve bundle with id "+e);return r}})),o("iE7OH").register(JSON.parse('{"ixCSO":"index.fe761ca7.js","bbzeV":"humane-worker.40689ad2.js"}'));var i=o("1O62j");const a=e=>{const r=document.querySelector(e);if(!r)throw new Error(`Element '${e}' is missing`);return r};var s,c,u,d;c=function(e,r,t){if(r===self.location.origin)return e;var n=t?"import "+JSON.stringify(e)+";":"importScripts("+JSON.stringify(e)+");";return URL.createObjectURL(new Blob([n],{type:"application/javascript"}))};var l={};function f(e){return(""+e).replace(/^((?:https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/.+)\/[^/]+$/,"$1")+"/"}u=function(e){var r=l[e];return r||(r=function(){try{throw new Error}catch(r){var e=(""+r.stack).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^)\n]+/g);if(e)return f(e[2])}return"/"}(),l[e]=r),r},d=function(e){var r=(""+e).match(/(https?|file|ftp|(chrome|moz|safari-web)-extension):\/\/[^/]+/);if(!r)throw new Error("Origin not found");return r[0]};let p=u("ixCSO")+o("iE7OH").resolve("bbzeV");s=c(p,d(p),!1);const m=new SharedWorker(s,{name:"👩🏻/humane chat worker"});m.port.onmessage=e=>{const r=e.data;if(!r)throw new Error("no payload");switch(r.type){case i.PayloadType.MSG:n=r,h.incoming(n.msg,n.msgId,n.datetime);break;case i.PayloadType.CONNECTED:t=r,console.log("Connected",t.userId);break;case i.PayloadType.ERROR:!function(e){console.error(e.code,e.reason)}(r)}var t,n};const h=a("humane-chat"),y=a("textarea"),v=a("#send"),g=a("#open"),E=a("#close"),w=a("#colorpicker"),b=document.documentElement;document.addEventListener("humane-chat.send",(e=>{const r=e.detail;m.port.postMessage({type:i.PayloadType.MSG,...r})})),addEventListener("beforeunload",(()=>m.port.postMessage({type:i.PayloadType.DISCONNECTED,userId:h.userId}))),v.addEventListener("click",(()=>h.incoming(y.value))),g.addEventListener("click",(()=>h.show())),E.addEventListener("click",(()=>h.hide())),w.addEventListener("input",(e=>{const r=e.target.value;b.style.setProperty("--humane-primary-color",r)})),m.port.start(),m.port.postMessage({type:i.PayloadType.CONNECTED,userId:h.userId})}();
//# sourceMappingURL=index.fe761ca7.js.map
